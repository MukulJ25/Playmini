
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayMini - Small Catchy Games</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css">
    <style>
        /* Custom Styles */
        .game-card {
            transition: all 0.3s ease;
        }
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        .memory-card {
            width: 100px;
            height: 100px;
            perspective: 1000px;
            margin: 5px;
            cursor: pointer;
        }
        .memory-card-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }
        .memory-card.flipped .memory-card-inner {
            transform: rotateY(180deg);
        }
        .memory-card-front, .memory-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
        }
        .memory-card-front {
            background-color: #2a76dd;
        }
        .memory-card-back {
            background-color: white;
            transform: rotateY(180deg);
            font-size: 40px;
        }
        #snake-game {
            border: 2px solid #333;
            background-color: #f8f8f8;
        }
        #clicker-game {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
            transition: transform 0.1s;
        }
        #clicker-game:active {
            transform: scale(0.95);
        }
        .color-tile {
            width: 80px;
            height: 80px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        .color-tile:hover {
            transform: scale(1.05);
        }
        .game-container {
            display: none;
        }
        .game-container.active {
            display: block;
        }
        .tab-active {
            background-color: #4F46E5;
            color: white;
        }
        /* Tic Tac Toe Styles */
        .ttt-cell {
            width: 100px;
            height: 100px;
            border: 2px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
        }
        .ttt-cell:hover {
            background-color: #f0f0f0;
        }
        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, auto);
            width: 306px;
            margin: 0 auto;
        }
        .ttt-x {
            color: #E53E3E;
        }
        .ttt-o {
            color: #3B82F6;
        }
        /* Hummingbird Game Styles */
        #hummingbird-game {
            border: 2px solid #333;
            background-color: #87CEEB;
        }
        /* Flappy Bird Game Styles */
        #flappy-game {
            border: 2px solid #333;
            background-color: #4FC3F7;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Header -->
    <header class="bg-white shadow">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <h1 class="text-3xl font-bold text-indigo-600">Play<span class="text-gray-800">Mini</span></h1>
                </div>
                <nav class="hidden md:flex space-x-10">
                    <a href="#" class="text-gray-800 hover:text-indigo-600 transition">Home</a>
                    <a href="#games" class="text-gray-800 hover:text-indigo-600 transition">Games</a>
                    <a href="#about" class="text-gray-800 hover:text-indigo-600 transition">About</a>
                </nav>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-800 hover:text-indigo-600">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden mt-4">
                <a href="#" class="block py-2 text-gray-800 hover:text-indigo-600">Home</a>
                <a href="#games" class="block py-2 text-gray-800 hover:text-indigo-600">Games</a>
                <a href="#about" class="block py-2 text-gray-800 hover:text-indigo-600">About</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-indigo-700 text-white py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-6">Quick Games, Big Fun!</h2>
            <p class="text-xl md:text-2xl mb-8">Enjoy our collection of small but incredibly addictive games</p>
            <a href="#games" class="bg-white text-indigo-700 font-bold py-3 px-8 rounded-full hover:bg-gray-100 transition">Play Now</a>
        </div>
    </section>

    <!-- Games Gallery -->
    <section id="games" class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">Our Games</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Memory Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-indigo-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-brain text-5xl text-indigo-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Memory Match</h3>
                        <p class="text-gray-600 mb-4">Test your memory by matching pairs of cards.</p>
                        <button class="play-button w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition" data-game="memory">Play Game</button>
                    </div>
                </div>

                <!-- Snake Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-green-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-snake text-5xl text-green-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Snake Classic</h3>
                        <p class="text-gray-600 mb-4">Control the snake and eat as much food as possible.</p>
                        <button class="play-button w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition" data-game="snake">Play Game</button>
                    </div>
                </div>

                <!-- Clicker Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-purple-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-hand-pointer text-5xl text-purple-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Speed Clicker</h3>
                        <p class="text-gray-600 mb-4">How many clicks can you make in 10 seconds?</p>
                        <button class="play-button w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 transition" data-game="clicker">Play Game</button>
                    </div>
                </div>

                <!-- Color Match Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-blue-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-palette text-5xl text-blue-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Color Match</h3>
                        <p class="text-gray-600 mb-4">Find the odd color out as fast as you can.</p>
                        <button class="play-button w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition" data-game="color">Play Game</button>
                    </div>
                </div>
                
                <!-- Tic Tac Toe Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-red-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-th text-5xl text-red-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Tic Tac Toe</h3>
                        <p class="text-gray-600 mb-4">Classic X and O game with a smart AI opponent.</p>
                        <button class="play-button w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition" data-game="tictactoe">Play Game</button>
                    </div>
                </div>
                
                <!-- Hummingbird Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-teal-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-feather-alt text-5xl text-teal-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Hummingbird</h3>
                        <p class="text-gray-600 mb-4">Collect nectar while avoiding obstacles.</p>
                        <button class="play-button w-full bg-teal-600 text-white py-2 rounded hover:bg-teal-700 transition" data-game="hummingbird">Play Game</button>
                    </div>
                </div>
                
                <!-- Flappy Bird Game -->
                <div class="game-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4">
                        <div class="bg-yellow-100 h-40 rounded-lg flex items-center justify-center">
                            <i class="fas fa-bird text-5xl text-yellow-500"></i>
                        </div>
                        <h3 class="text-xl font-bold mt-4 mb-2">Flappy Bird</h3>
                        <p class="text-gray-600 mb-4">Navigate through pipes by tapping to fly higher.</p>
                        <button class="play-button w-full bg-yellow-600 text-white py-2 rounded hover:bg-yellow-700 transition" data-game="flappy">Play Game</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Modal -->
    <div id="game-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-11/12 md:w-3/4 lg:w-1/2 max-h-screen overflow-y-auto">
            <div class="border-b px-4 py-2 flex justify-between items-center">
                <h3 id="modal-title" class="text-xl font-bold text-gray-800">Game Title</h3>
                <button id="close-modal" class="text-gray-600 hover:text-gray-800">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div class="p-4">
                <!-- Memory Game -->
                <div id="memory-game" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Match all the pairs to win!</p>
                        <p id="memory-moves" class="font-bold">Moves: 0</p>
                    </div>
                    <div class="flex flex-wrap justify-center" id="memory-board"></div>
                </div>

                <!-- Snake Game -->
                <div id="snake-game-container" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Use arrow keys to control the snake</p>
                        <p id="snake-score" class="font-bold">Score: 0</p>
                    </div>
                    <div class="flex justify-center">
                        <canvas id="snake-game" width="400" height="400"></canvas>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="start-snake" class="bg-green-600 text-white py-2 px-6 rounded hover:bg-green-700 transition">Start Game</button>
                    </div>
                </div>

                <!-- Clicker Game -->
                <div id="clicker-game-container" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Click as fast as you can in 10 seconds!</p>
                        <p id="clicker-score" class="font-bold">Clicks: 0</p>
                        <p id="clicker-timer" class="text-xl mt-2">Time: 10s</p>
                    </div>
                    <div class="flex justify-center">
                        <div id="clicker-game">
                            <span class="text-white text-2xl font-bold">CLICK!</span>
                        </div>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="start-clicker" class="bg-purple-600 text-white py-2 px-6 rounded hover:bg-purple-700 transition">Start Game</button>
                    </div>
                </div>

                <!-- Color Match Game -->
                <div id="color-game" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Find the tile with a different color!</p>
                        <p id="color-score" class="font-bold">Score: 0</p>
                        <p id="color-timer" class="text-xl mt-2">Time: 30s</p>
                    </div>
                    <div class="flex flex-wrap justify-center" id="color-board"></div>
                    <div class="mt-4 text-center">
                        <button id="start-color" class="bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition">Start Game</button>
                    </div>
                </div>
                
                <!-- Tic Tac Toe Game -->
                <div id="tictactoe-game" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Classic Tic Tac Toe - get three in a row!</p>
                        <p id="ttt-status" class="font-bold">Your turn (X)</p>
                    </div>
                    <div class="ttt-board" id="ttt-board">
                        <div class="ttt-cell" data-cell-index="0"></div>
                        <div class="ttt-cell" data-cell-index="1"></div>
                        <div class="ttt-cell" data-cell-index="2"></div>
                        <div class="ttt-cell" data-cell-index="3"></div>
                        <div class="ttt-cell" data-cell-index="4"></div>
                        <div class="ttt-cell" data-cell-index="5"></div>
                        <div class="ttt-cell" data-cell-index="6"></div>
                        <div class="ttt-cell" data-cell-index="7"></div>
                        <div class="ttt-cell" data-cell-index="8"></div>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="restart-ttt" class="bg-red-600 text-white py-2 px-6 rounded hover:bg-red-700 transition">Restart Game</button>
                    </div>
                </div>
                
                <!-- Hummingbird Game -->
                <div id="hummingbird-game-container" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Use up/down arrow keys or tap to control the hummingbird</p>
                        <p id="hummingbird-score" class="font-bold">Score: 0</p>
                    </div>
                    <div class="flex justify-center">
                        <canvas id="hummingbird-game" width="500" height="400"></canvas>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="start-hummingbird" class="bg-teal-600 text-white py-2 px-6 rounded hover:bg-teal-700 transition">Start Game</button>
                    </div>
                </div>
                
                <!-- Flappy Bird Game -->
                <div id="flappy-game-container" class="game-container">
                    <div class="text-center mb-6">
                        <p class="text-lg mb-2">Press space or tap to make the bird fly</p>
                        <p id="flappy-score" class="font-bold">Score: 0</p>
                    </div>
                    <div class="flex justify-center">
                        <canvas id="flappy-game" width="320" height="480"></canvas>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="start-flappy" class="bg-yellow-600 text-white py-2 px-6 rounded hover:bg-yellow-700 transition">Start Game</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <section id="about" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-3xl font-bold mb-6">About PlayMini</h2>
                <p class="text-lg text-gray-700 mb-8">PlayMini offers a collection of simple yet addictive mini-games that you can enjoy during short breaks. Our games are designed to be easy to learn but challenging to master.</p>
                <p class="text-lg text-gray-700">Whether you have a minute or an hour to spare, our games provide the perfect casual gaming experience. Challenge yourself, beat your high scores, and have fun!</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h2 class="text-2xl font-bold">Play<span class="text-indigo-400">Mini</span></h2>
                    <p class="text-gray-400 mt-2">Small games, big entertainment</p>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f text-xl"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter text-xl"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram text-xl"></i></a>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2023 PlayMini. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // Modal Logic
        const modal = document.getElementById('game-modal');
        const modalTitle = document.getElementById('modal-title');
        const closeModal = document.getElementById('close-modal');
        const playButtons = document.querySelectorAll('.play-button');
        const gameContainers = document.querySelectorAll('.game-container');

        closeModal.addEventListener('click', function() {
            modal.classList.add('hidden');
            gameContainers.forEach(container => {
                container.classList.remove('active');
            });
            // Stop any running games
            if (snakeInterval) clearInterval(snakeInterval);
            if (clickerInterval) clearInterval(clickerInterval);
            if (colorInterval) clearInterval(colorInterval);
            if (hummingbirdInterval) clearInterval(hummingbirdInterval);
            if (flappyInterval) clearInterval(flappyInterval);
        });

        playButtons.forEach(button => {
            button.addEventListener('click', function() {
                const gameType = this.getAttribute('data-game');
                modalTitle.textContent = this.parentNode.querySelector('h3').textContent;
                modal.classList.remove('hidden');
                
                gameContainers.forEach(container => {
                    container.classList.remove('active');
                });
                
                switch(gameType) {
                    case 'memory':
                        document.getElementById('memory-game').classList.add('active');
                        setupMemoryGame();
                        break;
                    case 'snake':
                        document.getElementById('snake-game-container').classList.add('active');
                        // Snake game starts with button click
                        break;
                    case 'clicker':
                        document.getElementById('clicker-game-container').classList.add('active');
                        // Clicker game starts with button click
                        break;
                    case 'color':
                        document.getElementById('color-game').classList.add('active');
                        // Color match game starts with button click
                        break;
                    case 'tictactoe':
                        document.getElementById('tictactoe-game').classList.add('active');
                        setupTicTacToe();
                        break;
                    case 'hummingbird':
                        document.getElementById('hummingbird-game-container').classList.add('active');
                        // Hummingbird game starts with button click
                        break;
                    case 'flappy':
                        document.getElementById('flappy-game-container').classList.add('active');
                        // Flappy game starts with button click
                        break;
                }
            });
        });

        // Memory Game Logic
        function setupMemoryGame() {
            const memoryBoard = document.getElementById('memory-board');
            const memoryMoves = document.getElementById('memory-moves');
            let moves = 0;
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let pairs = 0;
            const totalPairs = 6;
            
            memoryBoard.innerHTML = '';
            memoryMoves.textContent = 'Moves: 0';
            moves = 0;
            pairs = 0;
            
            const symbols = ['♠', '♥', '♦', '♣', '★', '☻', '♠', '♥', '♦', '♣', '★', '☻'];
            shuffleArray(symbols);
            
            symbols.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.innerHTML = `
                    <div class="memory-card-inner">
                        <div class="memory-card-front"></div>
                        <div class="memory-card-back">${symbol}</div>
                    </div>
                `;
                card.addEventListener('click', flipCard);
                card.setAttribute('data-symbol', symbol);
                memoryBoard.appendChild(card);
            });
            
            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;
                
                this.classList.add('flipped');
                
                if (!hasFlippedCard) {
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }
                
                secondCard = this;
                checkForMatch();
            }
            
            function checkForMatch() {
                moves++;
                memoryMoves.textContent = `Moves: ${moves}`;
                
                let isMatch = firstCard.getAttribute('data-symbol') === secondCard.getAttribute('data-symbol');
                
                if (isMatch) {
                    disableCards();
                    pairs++;
                    if (pairs === totalPairs) {
                        setTimeout(() => {
                            alert(`Congratulations! You completed the game in ${moves} moves!`);
                        }, 500);
                    }
                } else {
                    unflipCards();
                }
            }
            
            function disableCards() {
                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);
                
                resetBoard();
            }
            
            function unflipCards() {
                lockBoard = true;
                
                setTimeout(() => {
                    firstCard.classList.remove('flipped');
                    secondCard.classList.remove('flipped');
                    
                    resetBoard();
                }, 1000);
            }
            
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }
        }
        
        // Snake Game Logic
        let snakeInterval;
        document.getElementById('start-snake').addEventListener('click', startSnakeGame);
        
        function startSnakeGame() {
            if (snakeInterval) clearInterval(snakeInterval);
            
            const canvas = document.getElementById('snake-game');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('snake-score');
            const box = 20;
            let score = 0;
            
            let snake = [];
            snake[0] = {x: 10 * box, y: 10 * box};
            
            let food = {
                x: Math.floor(Math.random() * 20) * box,
                y: Math.floor(Math.random() * 20) * box
            };
            
            let d;
            
            document.addEventListener('keydown', direction);
            
            function direction(event) {
                if (event.keyCode === 37 && d !== 'RIGHT') d = 'LEFT';
                else if (event.keyCode === 38 && d !== 'DOWN') d = 'UP';
                else if (event.keyCode === 39 && d !== 'LEFT') d = 'RIGHT';
                else if (event.keyCode === 40 && d !== 'UP') d = 'DOWN';
            }
            
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                for(let i = 0; i < snake.length; i++) {
                    ctx.fillStyle = (i === 0) ? '#4CAF50' : '#8BC34A';
                    ctx.fillRect(snake[i].x, snake[i].y, box, box);
                    
                    ctx.strokeStyle = '#263238';
                    ctx.strokeRect(snake[i].x, snake[i].y, box, box);
                }
                
                ctx.fillStyle = '#FF5722';
                ctx.fillRect(food.x, food.y, box, box);
                
                let snakeX = snake[0].x;
                let snakeY = snake[0].y;
                
                if (d === 'LEFT') snakeX -= box;
                if (d === 'UP') snakeY -= box;
                if (d === 'RIGHT') snakeX += box;
                if (d === 'DOWN') snakeY += box;
                
                if (snakeX === food.x && snakeY === food.y) {
                    score++;
                    scoreDisplay.textContent = `Score: ${score}`;
                    food = {
                        x: Math.floor(Math.random() * 20) * box,
                        y: Math.floor(Math.random() * 20) * box
                    };
                } else {
                    snake.pop();
                }
                
                let newHead = {
                    x: snakeX,
                    y: snakeY
                };
                
                if (snakeX < 0 || snakeX >= canvas.width || snakeY < 0 || snakeY >= canvas.height || collision(newHead, snake)) {
                    clearInterval(snakeInterval);
                    alert(`Game Over! Your score: ${score}`);
                    return;
                }
                
                snake.unshift(newHead);
            }
            
            function collision(head, array) {
                for(let i = 0; i < array.length; i++) {
                    if(head.x === array[i].x && head.y === array[i].y) {
                        return true;
                    }
                }
                return false;
            }
            
            scoreDisplay.textContent = 'Score: 0';
            score = 0;
            snake = [];
            snake[0] = {x: 10 * box, y: 10 * box};
            d = undefined;
            
            snakeInterval = setInterval(draw, 100);
        }
        
        // Clicker Game Logic
        let clickerInterval;
        const clickerGame = document.getElementById('clicker-game');
        const clickerScore = document.getElementById('clicker-score');
        const clickerTimer = document.getElementById('clicker-timer');
        const startClickerBtn = document.getElementById('start-clicker');
        
        startClickerBtn.addEventListener('click', startClickerGame);
        
        function startClickerGame() {
            if (clickerInterval) clearInterval(clickerInterval);
            
            let clicks = 0;
            let timeLeft = 10;
            
            clickerScore.textContent = 'Clicks: 0';
            clickerTimer.textContent = 'Time: 10s';
            startClickerBtn.disabled = true;
            startClickerBtn.classList.add('opacity-50');
            
            clickerGame.addEventListener('click', incrementClicks);
            
            function incrementClicks() {
                clicks++;
                clickerScore.textContent = `Clicks: ${clicks}`;
            }
            
            clickerInterval = setInterval(() => {
                timeLeft--;
                clickerTimer.textContent = `Time: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(clickerInterval);
                    clickerGame.removeEventListener('click', incrementClicks);
                    setTimeout(() => {
                        alert(`Time's up! You made ${clicks} clicks in 10 seconds!`);
                        startClickerBtn.disabled = false;
                        startClickerBtn.classList.remove('opacity-50');
                    }, 100);
                }
            }, 1000);
        }
        
        // Color Match Game Logic
        let colorInterval;
        const colorBoard = document.getElementById('color-board');
        const colorScore = document.getElementById('color-score');
        const colorTimer = document.getElementById('color-timer');
        const startColorBtn = document.getElementById('start-color');
        
        startColorBtn.addEventListener('click', startColorGame);
        
        function startColorGame() {
            if (colorInterval) clearInterval(colorInterval);
            
            let score = 0;
            let timeLeft = 30;
            
            colorScore.textContent = 'Score: 0';
            colorTimer.textContent = 'Time: 30s';
            startColorBtn.disabled = true;
            startColorBtn.classList.add('opacity-50');
            
            createColorBoard();
            
            function createColorBoard() {
                colorBoard.innerHTML = '';
                
                // Determine grid size based on score
                let gridSize = 2 + Math.min(Math.floor(score / 5), 4);
                let tiles = gridSize * gridSize;
                
                // Generate random colors
                let r = Math.floor(Math.random() * 256);
                let g = Math.floor(Math.random() * 256);
                let b = Math.floor(Math.random() * 256);
                
                // Determine the different tile
                let differentTile = Math.floor(Math.random() * tiles);
                
                // Determine color difference (gets harder as score increases)
                let difference = Math.max(30 - score, 5);
                
                // Create different color
                let dr = Math.min(Math.max(r + (Math.random() > 0.5 ? 1 : -1) * difference, 0), 255);
                let dg = Math.min(Math.max(g + (Math.random() > 0.5 ? 1 : -1) * difference, 0), 255);
                let db = Math.min(Math.max(b + (Math.random() > 0.5 ? 1 : -1) * difference, 0), 255);
                
                // Create tiles
                for (let i = 0; i < tiles; i++) {
                    const tile = document.createElement('div');
                    tile.className = 'color-tile';
                    
                    if (i === differentTile) {
                        tile.style.backgroundColor = `rgb(${dr}, ${dg}, ${db})`;
                        tile.dataset.correct = 'true';
                    } else {
                        tile.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
                        tile.dataset.correct = 'false';
                    }
                    
                    tile.addEventListener('click', checkTile);
                    colorBoard.appendChild(tile);
                }
                
                // Adjust width of board for larger grids
                colorBoard.style.maxWidth = `${gridSize * 90}px`;
            }
            
            function checkTile() {
                if (this.dataset.correct === 'true') {
                    score++;
                    colorScore.textContent = `Score: ${score}`;
                    createColorBoard();
                } else {
                    // Wrong choice - small penalty
                    timeLeft = Math.max(timeLeft - 2, 0);
                    colorTimer.textContent = `Time: ${timeLeft}s`;
                }
            }
            
            colorInterval = setInterval(() => {
                timeLeft--;
                colorTimer.textContent = `Time: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(colorInterval);
                    setTimeout(() => {
                        alert(`Time's up! Your final score: ${score}`);
                        startColorBtn.disabled = false;
                        startColorBtn.classList.remove('opacity-50');
                    }, 100);
                }
            }, 1000);
        }
        
        // Tic Tac Toe Game Logic
        function setupTicTacToe() {
            const statusDisplay = document.getElementById('ttt-status');
            const cells = document.querySelectorAll('.ttt-cell');
            const restartButton = document.getElementById('restart-ttt');
            
            let gameActive = true;
            let currentPlayer = 'X';
            let gameState = ['', '', '', '', '', '', '', '', ''];
            
            const winningConditions = [
                [0, 1, 2],
                [3, 4, 5],
                [6, 7, 8],
                [0, 3, 6],
                [1, 4, 7],
                [2, 5, 8],
                [0, 4, 8],
                [2, 4, 6]
            ];
            
            function handleCellClick(clickedCellEvent) {
                const clickedCell = clickedCellEvent.target;
                const clickedCellIndex = parseInt(clickedCell.getAttribute('data-cell-index'));
                
                if (gameState[clickedCellIndex] !== '' || !gameActive) {
                    return;
                }
                
                handleCellPlayed(clickedCell, clickedCellIndex);
                handleResultValidation();
                
                if (gameActive && currentPlayer === 'O') {
                    // AI move
                    setTimeout(makeAIMove, 500);
                }
            }
            
            function handleCellPlayed(clickedCell, clickedCellIndex) {
                gameState[clickedCellIndex] = currentPlayer;
                clickedCell.innerHTML = currentPlayer === 'X' ? '<span class="ttt-x">X</span>' : '<span class="ttt-o">O</span>';
            }
            
            function handleResultValidation() {
                let roundWon = false;
                for (let i = 0; i < winningConditions.length; i++) {
                    const [a, b, c] = winningConditions[i];
                    const position1 = gameState[a];
                    const position2 = gameState[b];
                    const position3 = gameState[c];
                    
                    if (position1 === '' || position2 === '' || position3 === '') {
                        continue;
                    }
                    
                    if (position1 === position2 && position2 === position3) {
                        roundWon = true;
                        break;
                    }
                }
                
                if (roundWon) {
                    statusDisplay.innerHTML = `Player ${currentPlayer} wins!`;
                    gameActive = false;
                    return;
                }
                
                const roundDraw = !gameState.includes('');
                if (roundDraw) {
                    statusDisplay.innerHTML = 'Game ended in a draw!';
                    gameActive = false;
                    return;
                }
                
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                statusDisplay.innerHTML = `Player ${currentPlayer}'s turn`;
            }
            
            function makeAIMove() {
                if (!gameActive) return;
                
                // Check if AI can win
                for (let i = 0; i < gameState.length; i++) {
                    if (gameState[i] === '') {
                        gameState[i] = 'O';
                        if (checkWinningMove()) {
                            const cell = document.querySelector(`[data-cell-index="${i}"]`);
                            cell.innerHTML = '<span class="ttt-o">O</span>';
                            handleResultValidation();
                            return;
                        }
                        gameState[i] = '';
                    }
                }
                
                // Check if player can win and block
                for (let i = 0; i < gameState.length; i++) {
                    if (gameState[i] === '') {
                        gameState[i] = 'X';
                        if (checkWinningMove()) {
                            gameState[i] = 'O';
                            const cell = document.querySelector(`[data-cell-index="${i}"]`);
                            cell.innerHTML = '<span class="ttt-o">O</span>';
                            handleResultValidation();
                            return;
                        }
                        gameState[i] = '';
                    }
                }
                
                // Take center if available
                if (gameState[4] === '') {
                    gameState[4] = 'O';
                    const cell = document.querySelector('[data-cell-index="4"]');
                    cell.innerHTML = '<span class="ttt-o">O</span>';
                    handleResultValidation();
                    return;
                }
                
                // Take a random available cell
                const availableMoves = [];
                for (let i = 0; i < gameState.length; i++) {
                    if (gameState[i] === '') {
                        availableMoves.push(i);
                    }
                }
                
                if (availableMoves.length > 0) {
                    const randomIndex = Math.floor(Math.random() * availableMoves.length);
                    const cellIndex = availableMoves[randomIndex];
                    gameState[cellIndex] = 'O';
                    const cell = document.querySelector(`[data-cell-index="${cellIndex}"]`);
                    cell.innerHTML = '<span class="ttt-o">O</span>';
                    handleResultValidation();
                }
            }
            
            function checkWinningMove() {
                for (let i = 0; i < winningConditions.length; i++) {
                    const [a, b, c] = winningConditions[i];
                    const position1 = gameState[a];
                    const position2 = gameState[b];
                    const position3 = gameState[c];
                    
                    if (position1 !== '' && position1 === position2 && position2 === position3) {
                        return true;
                    }
                }
                return false;
            }
            
            function restartGame() {
                gameActive = true;
                currentPlayer = 'X';
                gameState = ['', '', '', '', '', '', '', '', ''];
                statusDisplay.innerHTML = `Player X's turn`;
                cells.forEach(cell => {
                    cell.innerHTML = '';
                });
            }
            
            cells.forEach(cell => cell.addEventListener('click', handleCellClick));
            restartButton.addEventListener('click', restartGame);
            
            // Initialize game
            restartGame();
        }
        
        // Hummingbird Game Logic
        let hummingbirdInterval;
        document.getElementById('start-hummingbird').addEventListener('click', startHummingbirdGame);
        
        function startHummingbirdGame() {
            if (hummingbirdInterval) clearInterval(hummingbirdInterval);
            
            const canvas = document.getElementById('hummingbird-game');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('hummingbird-score');
            
            // Game variables
            let score = 0;
            let speed = 2;
            const gravity = 0.2;
            
            // Hummingbird
            const bird = {
                x: 50,
                y: canvas.height / 2,
                width: 30,
                height: 20,
                velocity: 0,
                lift: -4,
                draw: function() {
                    ctx.fillStyle = '#9C27B0';
                    ctx.beginPath();
                    ctx.ellipse(this.x, this.y, this.width / 2, this.height / 2, 0, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Wings
                    ctx.fillStyle = '#E1BEE7';
                    ctx.beginPath();
                    ctx.ellipse(this.x - 10, this.y, 15, 5, Math.PI / 4, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Beak
                    ctx.fillStyle = '#FF5722';
                    ctx.beginPath();
                    ctx.moveTo(this.x + 15, this.y);
                    ctx.lineTo(this.x + 25, this.y);
                    ctx.lineTo(this.x + 15, this.y + 3);
                    ctx.fill();
                },
                update: function() {
                    this.velocity += gravity;
                    this.y += this.velocity;
                    
                    if (this.y > canvas.height - this.height / 2) {
                        this.y = canvas.height - this.height / 2;
                        this.velocity = 0;
                    }
                    
                    if (this.y < this.height / 2) {
                        this.y = this.height / 2;
                        this.velocity = 0;
                    }
                },
                flap: function() {
                    this.velocity += this.lift;
                }
            };
            
            // Flowers (nectar)
            const flowers = [];
            
            function addFlower() {
                const flowerColors = ['#FF4081', '#8BC34A', '#FFC107', '#03A9F4'];
                const flowerTypes = ['circle', 'square', 'triangle'];
                
                const flower = {
                    x: canvas.width,
                    y: Math.random() * (canvas.height - 50) + 25,
                    width: Math.random() * 15 + 20,
                    height: Math.random() * 15 + 20,
                    color: flowerColors[Math.floor(Math.random() * flowerColors.length)],
                    type: flowerTypes[Math.floor(Math.random() * flowerTypes.length)],
                    collected: false,
                    draw: function() {
                        if (this.collected) return;
                        
                        ctx.fillStyle = this.color;
                        
                        if (this.type === 'circle') {
                            ctx.beginPath();
                            ctx.arc(this.x, this.y, this.width / 2, 0, Math.PI * 2);
                            ctx.fill();
                            
                            // Nectar center
                            ctx.fillStyle = '#FFEB3B';
                            ctx.beginPath();
                            ctx.arc(this.x, this.y, this.width / 6, 0, Math.PI * 2);
                            ctx.fill();
                        } else if (this.type === 'square') {
                            ctx.fillRect(this.x - this.width / 2, this.y - this.height / 2, this.width, this.height);
                            
                            // Nectar center
                            ctx.fillStyle = '#FFEB3B';
                            ctx.fillRect(this.x - this.width / 6, this.y - this.height / 6, this.width / 3, this.height / 3);
                        } else if (this.type === 'triangle') {
                            ctx.beginPath();
                            ctx.moveTo(this.x, this.y - this.height / 2);
                            ctx.lineTo(this.x + this.width / 2, this.y + this.height / 2);
                            ctx.lineTo(this.x - this.width / 2, this.y + this.height / 2);
                            ctx.closePath();
                            ctx.fill();
                            
                            // Nectar center
                            ctx.fillStyle = '#FFEB3B';
                            ctx.beginPath();
                            ctx.arc(this.x, this.y, this.width / 6, 0, Math.PI * 2);
                            ctx.fill();
                        }
                    },
                    update: function() {
                        this.x -= speed;
                    },
                    checkCollision: function() {
                        if (this.collected) return false;
                        
                        const dx = Math.abs(bird.x - this.x);
                        const dy = Math.abs(bird.y - this.y);
                        
                        if (dx < (bird.width / 2 + this.width / 2) * 0.8 && 
                            dy < (bird.height / 2 + this.height / 2) * 0.8) {
                            this.collected = true;
                            score++;
                            scoreDisplay.textContent = `Score: ${score}`;
                            
                            if (score % 5 === 0) {
                                speed += 0.5;
                            }
                            
                            return true;
                        }
                        
                        return false;
                    }
                };
                
                flowers.push(flower);
            }
            
            // Obstacles
            const obstacles = [];
            
            function addObstacle() {
                const height = Math.random() * 150 + 50;
                const y = Math.random() > 0.5 ? 0 : canvas.height - height;
                
                const obstacle = {
                    x: canvas.width,
                    y: y,
                    width: 30,
                    height: height,
                    passed: false,
                    draw: function() {
                        ctx.fillStyle = '#795548';
                        ctx.fillRect(this.x, this.y, this.width, this.height);
                        
                        // Branch details
                        ctx.fillStyle = '#5D4037';
                        if (this.y === 0) {
                            // Bottom branches for top obstacles
                            for (let i = 0; i < 3; i++) {
                                const branchY = this.height - 30 - i * 40;
                                if (branchY > 10) {
                                    ctx.fillRect(this.x - 20, branchY, 20, 10);
                                }
                            }
                        } else {
                            // Top branches for bottom obstacles
                            for (let i = 0; i < 3; i++) {
                                const branchY = this.y + 20 + i * 40;
                                if (branchY < this.y + this.height - 10) {
                                    ctx.fillRect(this.x - 20, branchY, 20, 10);
                                }
                            }
                        }
                    },
                    update: function() {
                        this.x -= speed;
                    },
                    checkCollision: function() {
                        const dx = Math.abs(bird.x - (this.x + this.width / 2));
                        const dy = Math.abs(bird.y - (this.y + this.height / 2));
                        
                        // Bird is to the right of obstacle
                        if (bird.x > this.x + this.width) {
                            if (!this.passed) {
                                this.passed = true;
                            }
                            return false;
                        }
                        
                        if (dx < (bird.width / 2 + this.width / 2) && 
                            dy < (bird.height / 2 + this.height / 2)) {
                            return true;
                        }
                        
                        return false;
                    }
                };
                
                obstacles.push(obstacle);
            }
            
            // Controls
            document.addEventListener('keydown', function(event) {
                if (event.code === 'ArrowUp' || event.code === 'Space') {
                    bird.flap();
                }
            });
            
            canvas.addEventListener('click', function() {
                bird.flap();
            });
            
            // Game loop
            function draw() {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw background
                ctx.fillStyle = '#87CEEB';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Clouds
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(100, 50, 30, 0, Math.PI * 2);
                ctx.arc(130, 40, 25, 0, Math.PI * 2);
                ctx.arc(160, 55, 20, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(400, 80, 25, 0, Math.PI * 2);
                ctx.arc(430, 70, 20, 0, Math.PI * 2);
                ctx.fill();
                
                // Update and draw flowers
                for (let i = flowers.length - 1; i >= 0; i--) {
                    flowers[i].update();
                    flowers[i].draw();
                    flowers[i].checkCollision();
                    
                    if (flowers[i].x + flowers[i].width < 0) {
                        flowers.splice(i, 1);
                    }
                }
                
                // Add new flowers randomly
                if (Math.random() < 0.02) {
                    addFlower();
                }
                
                // Update and draw obstacles
                let gameOver = false;
                for (let i = obstacles.length - 1; i >= 0; i--) {
                    obstacles[i].update();
                    obstacles[i].draw();
                    
                    if (obstacles[i].checkCollision()) {
                        gameOver = true;
                    }
                    
                    if (obstacles[i].x + obstacles[i].width < 0) {
                        obstacles.splice(i, 1);
                    }
                }
                
                // Add new obstacles randomly
                if (Math.random() < 0.005) {
                    addObstacle();
                }
                
                // Update and draw bird
                bird.update();
                bird.draw();
                
                // Game over check
                if (gameOver) {
                    clearInterval(hummingbirdInterval);
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    ctx.fillStyle = 'white';
                    ctx.font = '30px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('Game Over!', canvas.width / 2, canvas.height / 2 - 20);
                    ctx.fillText(`Score: ${score}`, canvas.width / 2, canvas.height / 2 + 20);
                    
                    document.getElementById('start-hummingbird').disabled = false;
                    document.getElementById('start-hummingbird').classList.remove('opacity-50');
                }
            }
            
            // Initialize
            score = 0;
            speed = 2;
            flowers.length = 0;
            obstacles.length = 0;
            bird.y = canvas.height / 2;
            bird.velocity = 0;
            
            scoreDisplay.textContent = 'Score: 0';
            document.getElementById('start-hummingbird').disabled = true;
            document.getElementById('start-hummingbird').classList.add('opacity-50');
            
            hummingbirdInterval = setInterval(draw, 20);
        }
        
        // Flappy Bird Game Logic
        let flappyInterval;
        document.getElementById('start-flappy').addEventListener('click', startFlappyGame);
        
        function startFlappyGame() {
            if (flappyInterval) clearInterval(flappyInterval);
            
            const canvas = document.getElementById('flappy-game');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('flappy-score');
            
            // Game variables
            let score = 0;
            let frames = 0;
            const gravity = 0.25;
            const jumpStrength = -4.6;
            
            // Bird object
            const bird = {
                x: 50,
                y: 150,
                width: 34,
                height: 24,
                radius: 12,
                frame: 0,
                speed: 0,
                draw: function() {
                    ctx.fillStyle = '#FFD600';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Bird's eye
                    ctx.fillStyle = 'black';
                    ctx.beginPath();
                    ctx.arc(this.x + 10, this.y - 5, 3, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Bird's beak
                    ctx.fillStyle = '#FF6D00';
                    ctx.beginPath();
                    ctx.moveTo(this.x + 12, this.y);
                    ctx.lineTo(this.x + 20, this.y);
                    ctx.lineTo(this.x + 12, this.y + 5);
                    ctx.fill();
                    
                    // Bird's wing
                    ctx.fillStyle = '#FFA000';
                    // Animate wing flap
                    if (frames % 10 < 5) {
                        ctx.fillRect(this.x - 10, this.y - 5, 10, 3);
                    } else {
                        ctx.fillRect(this.x - 10, this.y, 10, 3);
                    }
                },
                update: function() {
                    // Apply gravity
                    this.speed += gravity;
                    this.y += this.speed;
                    
                    // Floor collision
                    if (this.y + this.radius >= canvas.height - foreground.height) {
                        this.y = canvas.height - foreground.height - this.radius;
                        this.speed = 0;
                        return true; // Game over
                    }
                    
                    // Ceiling collision
                    if (this.y - this.radius <= 0) {
                        this.y = this.radius;
                        this.speed = 0;
                    }
                    
                    return false;
                },
                flap: function() {
                    this.speed = jumpStrength;
                }
            };
            
            // Pipes
            const pipes = {
                position: [],
                top: {
                    sX: 0,
                    sY: 0
                },
                bottom: {
                    sX: 0,
                    sY: 0
                },
                width: 52,
                height: 320,
                gap: 100,
                maxYPos: -120,
                
                draw: function() {
                    for (let i = 0; i < this.position.length; i++) {
                        let p = this.position[i];
                        
                        // Top pipe
                        ctx.fillStyle = '#4CAF50';
                        ctx.fillRect(p.x, p.y, this.width, this.height);
                        
                        // Bottom pipe
                        ctx.fillRect(p.x, p.y + this.height + this.gap, this.width, this.height);
                        
                        // Pipe cap (top)
                        ctx.fillStyle = '#388E3C';
                        ctx.fillRect(p.x - 2, p.y, this.width + 4, 20);
                        
                        // Pipe cap (bottom)
                        ctx.fillRect(p.x - 2, p.y + this.height + this.gap, this.width + 4, 20);
                    }
                },
                update: function() {
                    // Add new pipe every 100 frames
                    if (frames % 100 === 0) {
                        this.position.push({
                            x: canvas.width,
                            y: this.maxYPos * (Math.random() + 1)
                        });
                    }
                    
                    for (let i = 0; i < this.position.length; i++) {
                        // Move pipes left
                        let p = this.position[i];
                        p.x -= 2;
                        
                        // Remove pipes off screen
                        if (p.x + this.width <= 0) {
                            this.position.shift();
                            score++;
                            scoreDisplay.textContent = `Score: ${score}`;
                        }
                        
                        // Collision detection
                        if (
                            bird.x + bird.radius > p.x && 
                            bird.x - bird.radius < p.x + this.width && 
                            (
                                bird.y - bird.radius < p.y + this.height || 
                                bird.y + bird.radius > p.y + this.height + this.gap
                            )
                        ) {
                            return true; // Game over
                        }
                    }
                    return false;
                }
            };
            
            // Foreground
            const foreground = {
                x: 0,
                y: canvas.height - 80,
                width: canvas.width,
                height: 80,
                
                draw: function() {
                    ctx.fillStyle = '#8D6E63';
                    ctx.fillRect(0, this.y, this.width, this.height);
                    
                    // Grass
                    ctx.fillStyle = '#66BB6A';
                    ctx.fillRect(0, this.y, this.width, 10);
                },
                
                update: function() {
                    // Animate foreground
                    this.x = (this.x - 2) % 14;
                }
            };
            
            // Background
            function drawBackground() {
                // Sky
                ctx.fillStyle = '#87CEEB';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Clouds
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(100, 70, 20, 0, Math.PI * 2);
                ctx.arc(130, 60, 25, 0, Math.PI * 2);
                ctx.arc(160, 75, 15, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(250, 40, 25, 0, Math.PI * 2);
                ctx.arc(280, 30, 20, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Controls
            document.addEventListener('keydown', function(event) {
                if (event.code === 'Space') {
                    bird.flap();
                }
            });
            
            canvas.addEventListener('click', function() {
                bird.flap();
            });
            
            // Game loop
            function draw() {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw background
                drawBackground();
                
                // Draw pipes
                pipes.draw();
                
                // Draw bird
                bird.draw();
                
                // Draw foreground
                foreground.draw();
                
                frames++;
            }
            
            function update() {
                let gameOver = false;
                
                // Update bird
                gameOver = bird.update();
                
                // Update pipes
                if (pipes.update()) {
                    gameOver = true;
                }
                
                // Update foreground
                foreground.update();
                
                if (gameOver) {
                    endGame();
                }
            }
            
            function endGame() {
                clearInterval(flappyInterval);
                
                // Game over display
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = 'white';
                ctx.font = '28px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Game Over!', canvas.width / 2, canvas.height / 2 - 30);
                ctx.fillText(`Score: ${score}`, canvas.width / 2, canvas.height / 2 + 10);
                
                document.getElementById('start-flappy').disabled = false;
                document.getElementById('start-flappy').classList.remove('opacity-50');
            }
            
            function gameLoop() {
                update();
                draw();
            }
            
            // Initialize
            score = 0;
            frames = 0;
            pipes.position = [];
            bird.y = 150;
            bird.speed = 0;
            
            scoreDisplay.textContent = 'Score: 0';
            document.getElementById('start-flappy').disabled = true;
            document.getElementById('start-flappy').classList.add('opacity-50');
            
            flappyInterval = setInterval(gameLoop, 20);
        }
        
        // Utility Functions
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>